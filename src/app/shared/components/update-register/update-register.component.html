<app-header [isModal]="true" [title]="register ? 'Actualizar cliente':'Agregar cliente'"></app-header>

<ion-content class="ion-padding custom-content">

  <ion-card class="custom-card">

    <ion-card-header>
      <ion-avatar *ngIf="form.value.img" class="profile-avatar">
        <img [src]="form.value.img" />
      </ion-avatar>
      <ion-icon class="img-icon" name="image-outline" *ngIf="!form.value.img"></ion-icon>
    </ion-card-header>

    <ion-card-content class="ion-padding ion-text-center">

      <form [formGroup]="form" (ngSubmit)="submit()">

        <ion-button (click)="takeImage()" mode="ios" size="small" shape="round">
          Tome/Seleccione una foto
        </ion-button>

        <ion-grid fixed>

          <ion-row>
            <ion-col size="12">
              <ion-input type="text" label="Nombre del cliente" formControlName="registro" labelPlacement="floating"
                fill="solid" errorText="Ingresa un nombre"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="12">
              <ion-input type="tel" label="Teléfono del cliente" formControlName="telefono" labelPlacement="floating"
                fill="solid" errorText="Ingresa un teléfono"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="12">
              <ion-input type="text" label="Dirección del cliente" formControlName="domicilio" labelPlacement="floating"
                fill="solid" errorText="Ingresa una dirección"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="12">
              <ion-select label="Tipo de servicio" formControlName="tipo" labelPlacement="floating" interface="popover"
                fill="solid">
                <ion-select-option selected value="Televisión">Televisión</ion-select-option>
                <ion-select-option value="Ventilador">Ventilador</ion-select-option>
                <ion-select-option value="Refrigerador">Refrigerador</ion-select-option>
                <ion-select-option value="Lavadora">Lavadora</ion-select-option>
                <ion-select-option value="Microondas">Microondas</ion-select-option>
                <ion-select-option value="Bocina">Bocina</ion-select-option>
                <ion-select-option value="Otro">Otro</ion-select-option>
              </ion-select>
            </ion-col>
          </ion-row>
          
          <ion-row>
            <ion-col size="12">
              <ion-input type="text" label="Descripcion del servicio o problema" formControlName="descripcion"
                labelPlacement="floating" fill="solid" errorText="Ingresa una descripcion"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="12">
              <ion-select label="Estado del servicio" formControlName="estado" labelPlacement="floating"
                interface="popover" fill="solid">
                <ion-select-option value="Reparando">Reparando</ion-select-option>
                <ion-select-option value="Revisando">Revisando</ion-select-option>
                <ion-select-option value="Entregado">Entregado</ion-select-option>
              </ion-select>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="12">
              <ion-input type="text" label="Encargado del servicio" formControlName="encargado"
                labelPlacement="floating" fill="solid" errorText="Ingresa un encargado"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="12">
              <ion-input type="number" label="Costo del servicio" formControlName="costo" labelPlacement="floating"
                fill="solid" errorText="Ingresa un costo" (ionInput)="setNumberInput()"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="12">
              <ion-input type="date" label="Fecha de registro" formControlName="fecha" labelPlacement="floating"
                fill="solid" errorText="Ingresa una fecha"></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="12">
              <ion-button class="submit" type="submit" mode="ios" [disabled]="form.invalid">
                {{register ? 'Actualizar':'Agregar'}}
                <ion-icon slot="end" name="checkmark-circle-outline"></ion-icon>
              </ion-button>
            </ion-col>
          </ion-row>

        </ion-grid>
      </form>
    </ion-card-content>
  </ion-card>

</ion-content>